## 聚簇索引和非聚簇索引有什么区别？

* 在聚簇索引中，叶子节点所保存的内容，是MySQL的数据行；在非聚簇索引中，  
  叶子节点锁保存的内容，是数据行的主键值，如果想要查找数据行内容的话，就需要通过回表的方式，通过  
  主键再到聚簇索引中去查找最后的数据行内容。

* 题外话
  * 在InnoDB中，一定存在有主键，如果建表的时候没有去手动设置的话，存储引擎就会使用unique索引，没有  
    unique索引的话，就会使用数据库内部的一个行的id来当作主键索引。

* 另外内容
  * 聚集索引就是数据存放的物理顺序和列中的顺序保持一致。一般设置主键索引就为聚集索引。如果InnoDB中的  
    一张表没有加主键的话，那么这张表的数据就会无序地被保存在磁盘上，一行一行的排列很整齐；如果给表加上  
    了主键的话，那么表中数据在磁盘上的保存方式，就由整齐排列的结构转换为树状结构（也就是平衡树结构）。  
    换句话说，也就是整个表变成了一个索引，也就是所谓的聚集索引。这些提到的就是为什么一个表只能有一个  
    主键，一个表只能有一个聚集索引，因为<font color="red">主键的作用就是把表的数据格式转换成索引的格式来进行存放</font>。  
    为了维持索引平衡树结构的正确性，在插入或者删除数据的时候，都会使得索引树结构发生变化，以此来维持  
    树结构的正确性。所以会带来一些额外的性能开销，所以说索引会给查询以外的操作带来副作用。

  * 对于非聚集索引来说，比如我们给一张表的某个字段加上索引，那么在存储引擎内部，就会根据这个字段来生成  
    一颗索引树出来，树的每个节点的值，就是name字段的值。最后叶子节点所保持的内容，就是这个name字段所对应  
    数据行的主键值。

  * 每次给表建一个新的索引的话，对应所建立索引的字段的数据就会被复制一份出来，用于生成索引。因此，给表加  
    索引会增加表的体积，占用磁盘更多的存储空间。
